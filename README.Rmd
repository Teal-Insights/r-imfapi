---
output: github_document
---

# imfapi

<!-- badges: start -->
[![R-CMD-check](https://github.com/Teal-Insights/r-imfapi/actions/workflows/R-CMD-check.yaml/badge.svg)](https://github.com/Teal-Insights/r-imfapi/actions/workflows/R-CMD-check.yaml)
[![Codecov test coverage](https://codecov.io/gh/Teal-Insights/r-imfapi/graph/badge.svg)](https://app.codecov.io/gh/Teal-Insights/r-imfapi)
<!-- badges: end -->

## Installation

```r
install.packages("imfapi")
```

## Usage

```{r}
library(imfapi)
```
```{r}
#| label: truncate_text
#| echo: false
#| output: false
truncate_text <- function(data, max_chars = 10, suffix = "...") {
  data |>
    dplyr::mutate(
      dplyr::across(tidyselect::where(is.character),
        ~ ifelse(
          nchar(.) > max_chars,
          paste0(stringr::str_sub(., 1, max_chars), suffix),
          .
        )
      )
    )
}
```

### Get datasets

```{r}
imf_get_dataflows() |>
  head() |>
  # Note: We use a custom helper function to truncate long strings in columns
  truncate_text(max_chars = 10) |>
  knitr::kable()
```

### Get datastructure dimensions

```{r}
imf_get_datastructure("GFS") |>
  head() |>
  # Note: We use a custom helper function to truncate long strings in columns
  truncate_text(max_chars = 10) |>
  knitr::kable()
```

### Get data

```r
imf_get_data("GFS", "MFS_IR")
```